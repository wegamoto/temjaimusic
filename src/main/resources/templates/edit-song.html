<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="th">
<head>
    <meta charset="UTF-8" />
    <title>แก้ไขเพลง - [[${song.title}]] | TemjaiMusic</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 font-sans min-h-screen">
<div class="max-w-3xl mx-auto p-6">
    <a href="/songs" class="inline-block mb-6 text-blue-600 hover:underline">← กลับไปหน้ารายการเพลง</a>

    <h1 class="text-3xl font-bold mb-6">แก้ไขเพลง: <span th:text="${song.title}">ชื่อเพลง</span></h1>

    <form th:action="@{'/songs/' + ${song.id} + '/edit'}" th:object="${song}" method="post"
          enctype="multipart/form-data"
          class="space-y-6 bg-white p-6 rounded-lg shadow-md">

        <div>
            <label class="block font-semibold mb-1" for="title">ชื่อเพลง</label>
            <input type="text" id="title" th:field="*{title}" required
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
        </div>

        <div>
            <label class="block font-semibold mb-1" for="artist">ศิลปิน</label>
            <input type="text" id="artist" th:field="*{artist}" required
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
        </div>

        <div>
            <label class="block font-semibold mb-1" for="rawTags">แท็ก (คั่นด้วยเครื่องหมาย ,)</label>
            <input type="text" id="rawTags" name="rawTags"
                   th:value="${#strings.arrayJoin(song.tags, ', ')}"
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                   placeholder="เช่น pop, rock, อินดี้"/>
        </div>

        <div>
            <label class="block font-semibold mb-1" for="mp3File">อัพโหลดไฟล์ MP3 ใหม่ (ถ้ามี)</label>
            <input type="file" id="mp3File" name="mp3File" accept=".mp3"
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
            <p class="mt-1 text-sm text-gray-500">ถ้าไม่เลือกไฟล์ ระบบจะเก็บลิงก์ MP3 เดิมไว้</p>
        </div>

        <div>
            <label class="block font-semibold mb-1" for="mp3Url">ลิงก์ MP3 เดิม</label>
            <input type="url" id="mp3Url" th:field="*{mp3Url}" required
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
        </div>

        <div>
            <label class="block font-semibold mb-1" for="lyrics">เนื้อเพลง</label>
            <textarea id="lyrics" th:field="*{lyrics}" rows="6"
                      class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
        </div>

        <div>
            <label class="block font-semibold mb-1" for="chords">คอร์ดกีตาร์</label>
            <textarea id="chords" th:field="*{chords}" rows="6" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 font-mono"></textarea>
        </div>

        <div class="flex items-center gap-3">
            <input type="checkbox" id="premiumOnly" th:field="*{premiumOnly}" class="w-4 h-4"/>
            <label for="premiumOnly" class="select-none">สำหรับสมาชิกพรีเมียมเท่านั้น</label>
        </div>

        <div>
            <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">บันทึกการแก้ไข</button>
            <a href="#" onclick="history.back()" class="ml-4 text-gray-600 hover:underline">ยกเลิก</a>
        </div>

    </form>
</div>
</body>
</html>
